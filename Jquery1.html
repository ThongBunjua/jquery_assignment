<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Interactive Web Form Assignment</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <style>
        .error-text {  
            color: red;  
            font-size: 0.9rem;  
            margin-top: 3px;
            margin-left: 5px; 
        }
        .is-error {
            border-color: red !important;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow">
            <div class="card-body">
                <h3 class="mb-4">Interactive Web Form</h3>
                
                <form id="validationForm"> <div class="mb-3" id="username-group"> 
                        <label class="form-label">Username</label>
                        <input type="text" id="username" class="form-control">
                    </div>
                    <div class="mb-3" id="email-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="email" class="form-control">
                    </div>
                    <div class="mb-3" id="password-group">
                        <label class="form-label">Password</label>
                        <input type="password" id="password" class="form-control">
                    </div>
                    <div class="mb-3" id="confirmPassword-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" id="confirmPassword" class="form-control">
                    </div>
                    <div class="mb-3" id="topics-group">
                        <label class="form-label fw-bold" id="topics-label">Interesting Topics</label>
                        <div class="form-check">
                            <input class="form-check-input topic" type="checkbox" id="topic1" value="HTML">
                            <label class="form-check-label" for="topic1">HTML</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input topic" type="checkbox" id="topic2" value="CSS">
                            <label class="form-check-label" for="topic2">CSS</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input topic" type="checkbox" id="topic3" value="JavaScript">
                            <label class="form-check-label" for="topic3">JavaScript</label>
                        </div>
                    </div>
                    <div class="mb-3" id="gender-group">
                        <label class="form-label fw-bold" id="gender-label">Gender</label>
                        <select id="gender" class="form-select">
                            <option value="--">--</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <button type="submit" id="submitBtn" class="btn btn-primary">Submit</button>
                </form>
                
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <script>
        $(document).ready(function() {
            $('#validationForm').on('submit', function(e) {
                e.preventDefault(); 
                let isValid = true; 

                $('.is-error').removeClass('is-error');
                $('.error-text').remove();

                ['#username', '#email', '#password', '#confirmPassword'].forEach(function(id) {
                    const $input = $(id);
                    if ($input.val().trim() === '') {
                        $input.addClass('is-error');
                        $input.parent().append('<small class="error-text">This field must not be empty</small>');
                        isValid = false;
                    }
                });

                const $pwd = $('#password');
                const $cpwd = $('#confirmPassword');
                
                if ($cpwd.val().trim() !== '' && $pwd.val() !== $cpwd.val()) {
                    $cpwd.addClass('is-error');
                    $('#confirmPassword-group .error-text').remove(); 
                    $cpwd.parent().append('<small class="error-text">Confirmed password mismatched the password</small>');
                    isValid = false;
                }

                if ($('.topic:checked').length === 0) {
                    $('#topics-label').after('<small class="error-text">At least one topic must be selected</small>');
                    isValid = false;
                }

                const $gender = $('#gender');
                if ($gender.val() === '--') {
                    $gender.addClass('is-error');
                    $('#gender-label').after('<small class="error-text">Please choose your gender</small>');
                    isValid = false;
                }

                if (isValid) {
                    alert('Form is valid! (Pretending to submit)');
                }
            });
        });
    </script>
</body>
</html>